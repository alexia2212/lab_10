<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <title>Juego de la memoria</title>
</head>
<body>

<h1>El Juego de la Memoria</h1>

<h5>Total de imágenes seleccionadas: <span id="imageCount">0</span></h5>

<input type="file" id="inputFile" accept="image/png" multiple>

<button id="loadImagesButton">Cargar imágenes</button>
<div id="imageContainer">
    <div id="gameBoard"></div>
</div>



<style>
    .thumbnail {
        max-width: 200px;
        max-height: 200px;
        margin: 10px;
    }
    .card {
         width: 100px;
         height: 100px;
         margin: 5px;
         background-color: gray;
     }

</style>

<script>
    document.getElementById('loadImagesButton').addEventListener('click', loadImages);

    function loadImages() {
        var filesInput = document.getElementById('inputFile');
        var files = filesInput.files;

        if (files.length !== 6) {
            alert('Debes seleccionar exactamente 6 imágenes.');
            return;
        }

        var gameBoard = document.getElementById('gameBoard');
        gameBoard.innerHTML = '';

        for (var i = 0; i < files.length; i++) {
            var file = files[i];

            if (!file.type.match('image/png')) {
                alert('Debes seleccionar imágenes en formato PNG.');
                return;
            }

            var reader = new FileReader();
            reader.onload = (function (aFile) {
                return function (e) {
                    var img = document.createElement('img');
                    img.classList.add('card');
                    img.src = e.target.result;
                    gameBoard.appendChild(img);
                };
            })(file);

            reader.readAsDataURL(file);
        }
    }

</script>


<script>

    document.getElementById('loadImagesButton').addEventListener('click', loadImages);

    function loadImages() {
        var filesInput = document.getElementById('inputFile');
        var files = filesInput.files;
        var imageContainer = document.getElementById('imageContainer');
        var imageCount = document.getElementById('imageCount');

        if (imageCount.textContent >= 15) {
            alert('Solo se aceptan 15 imágenes');
            return;
        }

        for (var i = 0; i < files.length; i++) {
            var file = files[i];

            if (!file.type.match('image.*')) {
                continue;
            }

            var reader = new FileReader();
            reader.onload = (function (aFile) {
                return function (e) {
                    var imgContainer = document.createElement('div');
                    imgContainer.classList.add('image-item');

                    var closeButton = document.createElement('span');
                    closeButton.classList.add('close-button', 'w3-button', 'w3-display-topright');
                    closeButton.innerHTML = '&times;';
                    closeButton.onclick = function() {
                        deleteImage(imgContainer);
                    };

                    var img = document.createElement('img');
                    img.classList.add('thumbnail');
                    img.src = e.target.result;

                    imgContainer.appendChild(closeButton);
                    imgContainer.appendChild(img);
                    imageContainer.appendChild(imgContainer);
                    imageCount.textContent = parseInt(imageCount.textContent) + 1;
                };
            })(file);

            reader.readAsDataURL(file);
        }
    }

    function deleteImage(imageContainer) {
        var imageCount = document.getElementById('imageCount');
        imageCount.textContent = parseInt(imageCount.textContent) - 1;
        imageContainer.parentNode.removeChild(imageContainer);
    }

</script>
</body>
</html>
